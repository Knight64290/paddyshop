(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-order"],{"0099":function(t,e,i){"use strict";var r=i("b5f2"),a=i.n(r);a.a},"0cde":function(t,e,i){"use strict";i.r(e);var r=i("86bc"),a=i("5424");for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("589d");var o,s=i("f0c5"),d=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"4a13060c",null,!1,r["a"],o);e["default"]=d.exports},"22ee":function(t,e,i){var r=i("a852");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("4f06").default;a("71b5fc11",r,!0,{sourceMap:!1,shadowMode:!1})},"3a2f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"pds-order-empty",components:{},props:{},data:function(){return{}},methods:{}};e.default=r},"401b":function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,"\nbody.?%PAGE?%[data-v-12468dbe]{background-color:#f2f2f2}",""]),t.exports=e},5424:function(t,e,i){"use strict";i.r(e);var r=i("6fed"),a=i.n(r);for(var n in r)"default"!==n&&function(t){i.d(e,t,(function(){return r[t]}))}(n);e["default"]=a.a},"589d":function(t,e,i){"use strict";var r=i("22ee"),a=i.n(r);a.a},"5a53":function(t,e,i){"use strict";i.r(e);var r=i("3a2f"),a=i.n(r);for(var n in r)"default"!==n&&function(t){i.d(e,t,(function(){return r[t]}))}(n);e["default"]=a.a},"5cc2":function(t,e,i){"use strict";i.r(e);var r=i("f51a"),a=i("5a53");for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("0099");var o,s=i("f0c5"),d=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"7815d456",null,!1,r["a"],o);e["default"]=d.exports},"63b2":function(t,e,i){"use strict";var r=i("dca9"),a=i.n(r);a.a},"6e6c":function(t,e,i){"use strict";i.r(e);var r=i("8704"),a=i.n(r);for(var n in r)"default"!==n&&function(t){i.d(e,t,(function(){return r[t]}))}(n);e["default"]=a.a},"6fed":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"pds-order-item",components:{},props:{orderItem:{}},data:function(){return{}},mounted:function(){},computed:{},methods:{cancel:function(){this.$emit("cancel")},pay:function(){this.$emit("pay")},receipt:function(){this.$emit("receipt")}}};e.default=r},"83ce":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return r}));var r={pdsDialog:i("7a5a").default,uPopup:i("6c26").default,uTabsSwiper:i("a255").default,uLoadmore:i("3e23").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("pds-dialog",{attrs:{show:t.orderCancelDialogShow,title:"真的要残忍取消我吗？"},on:{cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.orderCancelDialogShow=!1},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrder.apply(void 0,arguments)}}}),i("pds-dialog",{attrs:{show:t.orderReceiptShow,title:"确认收到货了吗？"},on:{cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.orderReceiptShow=!1},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.receiptOrder.apply(void 0,arguments)}}}),i("u-popup",{attrs:{mode:"bottom",closeable:!0,"close-icon-size":"50","border-radius":"30",height:"380"},model:{value:t.paymentChooseShow,callback:function(e){t.paymentChooseShow=e},expression:"paymentChooseShow"}},[i("pds-payment",{ref:"paymentRef",on:{paymentChoose:function(e){arguments[0]=e=t.$handleEvent(e),t.pay.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"wrap"},[i("v-uni-view",{staticClass:"u-tabs-box"},[i("u-tabs-swiper",{ref:"tabs",attrs:{activeColor:"#f29100",list:t.list,current:t.current,"is-scroll":!1,swiperWidth:"750"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}})],1),i("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.swiperCurrent},on:{transition:function(e){arguments[0]=e=t.$handleEvent(e),t.transition.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.animationfinish.apply(void 0,arguments)}}},[i("v-uni-swiper-item",{staticClass:"swiper-item"},[i("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.reachBottom.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"page-box"},[t._l(t.orderList[0],(function(e,r){return t.orderList[0].length>0?i("v-uni-view",{key:e.id},[i("pds-order-item",{attrs:{orderItem:e},on:{pay:function(i){arguments[0]=i=t.$handleEvent(i),t.paymentChoose(e.id)},cancel:function(i){arguments[0]=i=t.$handleEvent(i),t.cancelOrderDialog(e.id)}}})],1):t._e()})),t.orderList[0].length>0?i("u-loadmore",{attrs:{status:t.loadStatus[0],bgColor:"#f2f2f2"}}):t._e(),0==t.orderList[0].length?i("v-uni-view",[i("pds-order-empty")],1):t._e()],2)],1)],1),i("v-uni-swiper-item",{staticClass:"swiper-item"},[i("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.reachBottom.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"page-box"},[t._l(t.orderList[1],(function(e,r){return t.orderList[1].length>0?i("v-uni-view",{key:e.id},[i("pds-order-item",{attrs:{orderItem:e}})],1):t._e()})),t.orderList[1].length>0?i("u-loadmore",{attrs:{status:t.loadStatus[1],bgColor:"#f2f2f2"}}):t._e(),0==t.orderList[1].length?i("v-uni-view",[i("pds-order-empty")],1):t._e()],2)],1)],1),i("v-uni-swiper-item",{staticClass:"swiper-item"},[i("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0}},[i("v-uni-view",{staticClass:"page-box"},[t._l(t.orderList[2],(function(e,r){return t.orderList[2].length>0?i("v-uni-view",{key:e.id},[i("pds-order-item",{attrs:{orderItem:e},on:{receipt:function(i){arguments[0]=i=t.$handleEvent(i),t.receiptConfirm(e.id)}}})],1):t._e()})),t.orderList[2].length>0?i("u-loadmore",{attrs:{status:t.loadStatus[2],bgColor:"#f2f2f2"}}):t._e(),0==t.orderList[2].length?i("v-uni-view",[i("pds-order-empty")],1):t._e()],2)],1)],1),i("v-uni-swiper-item",{staticClass:"swiper-item"},[i("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.reachBottom.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"page-box"},[t._l(t.orderList[3],(function(e,r){return t.orderList[3].length>0?i("v-uni-view",{key:e.id},[i("pds-order-item",{attrs:{orderItem:e}})],1):t._e()})),t.orderList[3].length>0?i("u-loadmore",{attrs:{status:t.loadStatus[3],bgColor:"#f2f2f2"}}):t._e(),0==t.orderList[3].length?i("v-uni-view",[i("pds-order-empty")],1):t._e()],2)],1)],1),i("v-uni-swiper-item",{staticClass:"swiper-item"},[i("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.reachBottom.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"page-box"},[t._l(t.orderList[4],(function(e,r){return t.orderList[4].length>0?i("v-uni-view",{key:e.id},[i("pds-order-item",{attrs:{orderItem:e},on:{pay:function(i){arguments[0]=i=t.$handleEvent(i),t.paymentChoose(e.id)},cancel:function(i){arguments[0]=i=t.$handleEvent(i),t.cancelOrderDialog(e.id)}}})],1):t._e()})),t.orderList[4].length>0?i("u-loadmore",{attrs:{status:t.loadStatus[4],bgColor:"#f2f2f2"}}):t._e(),0==t.orderList[4].length?i("v-uni-view",[i("pds-order-empty")],1):t._e()],2)],1)],1)],1)],1)],1)},n=[]},"86bc":function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"order"},[i("v-uni-view",{staticClass:"top"},[i("v-uni-view",{staticClass:"left"}),1==t.orderItem.status?i("v-uni-view",{staticClass:"right"},[t._v("待付款")]):t._e()],1),t._l(t.orderItem.orderDetail,(function(e,r){return i("v-uni-view",{key:r,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateTo("/pages/order/detail?id="+t.orderItem.id)}}},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-image",{attrs:{src:e.images,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"title u-line-2"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"type"},[t._v(t._s(e.sku))])],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),i("v-uni-view",{staticClass:"number"},[t._v("x"+t._s(e.qty))])],1)],1)],1)})),i("v-uni-view",{staticClass:"total"},[t._v("共"+t._s(t.orderItem.qty_total)+"件商品 合计:"),i("v-uni-text",{staticClass:"total-price"},[t._v("￥"+t._s(t.orderItem.total_price))])],1),i("v-uni-view",{staticClass:"bottom"},[3==t.orderItem.status?i("v-uni-view",{staticClass:"logistics btn"},[t._v("查看物流")]):t._e(),t.orderItem.status<=1?i("v-uni-view",{staticClass:"exchange btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消订单")]):t._e(),1==t.orderItem.status?i("v-uni-view",{staticClass:"pay btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pay.apply(void 0,arguments)}}},[t._v("支付")]):t._e(),4==t.orderItem.status&&0==t.orderItem.user_is_comments?i("v-uni-view",{staticClass:"evaluate btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateTo("/pages/order/comment?orderId="+t.orderItem.id)}}},[t._v("评价")]):t._e(),3==t.orderItem.status?i("v-uni-view",{staticClass:"pay btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.receipt.apply(void 0,arguments)}}},[t._v("确认收货")]):t._e()],1)],2)},n=[]},8704:function(t,e,i){"use strict";var r=i("4ea4");i("a9e3"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(i("2e8a")),n=r(i("0cde")),o=r(i("5cc2")),s=r(i("9c61")),d={components:{pdsOrderItem:n.default,pdsOrderEmpty:o.default,pdsPayment:s.default},data:function(){return{orderList:[[],[],[],[],[]],list:[{name:"待付款"},{name:"待发货"},{name:"待收货"},{name:"待评价"},{name:"全部"}],current:0,swiperCurrent:0,tabsHeight:0,dx:0,size:10,page:[1,1,1,1,1],loadStatus:["loadmore","loadmore","loadmore","loadmore","loadmore"],orderCancelDialogShow:!1,paymentChooseShow:!1,orderReceiptShow:!1,handle_order_id:0}},onLoad:function(t){t.type&&(this.current=t.type,this.swiperCurrent=t.type,this.dx=t.type)},onShow:function(){this.paramsInit(),this.getOrderList(this.current)},onReady:function(){this.wx_config()},methods:{paramsInit:function(){this.page=[1,1,1,1,1],this.orderList=[[],[],[],[],[]]},cancelOrderDialog:function(t){this.handle_order_id=t,this.orderCancelDialogShow=!0},paymentChoose:function(t){this.handle_order_id=t,this.paymentChooseShow=!0},receiptConfirm:function(t){this.handle_order_id=t,this.orderReceiptShow=!0},receiptOrder:function(){var t=this,e={order_id:this.handle_order_id};this.$u.api.receiptOrder(e).then((function(e){t.orderReceiptShow=!1,uni.showToast({title:"确认收货成功"}),t.paramsInit(),t.getOrderList(2)}))},pay:function(t){var e=this,i={order_id:this.handle_order_id,payment_id:t,isH5:!0};this.$u.api.payOrder(i).then((function(t){if(t.data.hasOwnProperty("status")&&2==t.data.status)return e.navigateTo("/pages/order/pay-success?orderId="+t.data.id),!1;e.wechatPay(t.data,e.handle_order_id,a.default)}))},cancelOrder:function(){var t=this,e={order_id:this.handle_order_id};this.$u.api.cancelOrder(e).then((function(e){t.orderCancelDialogShow=!1,uni.showToast({title:"取消成功"}),t.paramsInit(),t.getOrderList(0)}))},reachBottom:function(){"loadmore"==this.loadStatus[this.current]&&(this.page[this.current]=++this.page[this.current],this.getOrderList(this.current))},getOrderList:function(t){var e=this,i={};i=4==t?{current:this.page[t]}:{current:this.page[t],status:Number(t)+1},this.$u.api.getUserOrder(i).then((function(i){for(var r=0;r<i.data.records.length;r++)e.orderList[t].push(i.data.records[r]);i.data.total<=e.page[t]*e.size?e.loadStatus[t]="nomore":e.loadStatus[t]="loadmore"}))},change:function(t){this.page=[1,1,1,1,1],this.orderList[t]=[],this.loadStatus[t]="loading",this.swiperCurrent=t,this.getOrderList(t)},transition:function(t){var e=t.detail.dx;this.$refs.tabs.setDx(e)},animationfinish:function(t){var e=t.detail.current;this.$refs.tabs.setFinishCurrent(e),this.swiperCurrent=e,this.current=e},wx_config:function(){var t={url:window.location.href.split("#")[0]};this.$u.api.getWechatSignPackage(t).then((function(t){var e=200===t.code?t.data:{};a.default.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["chooseWXPay"]}),a.default.ready((function(){a.default.checkJsApi({jsApiList:["chooseWXPay"],success:function(t){}})})),a.default.error((function(t){console.log("接口验证失败",t)}))})).catch((function(t){}))}}};e.default=d},8868:function(t,e,i){"use strict";i.r(e);var r=i("83ce"),a=i("6e6c");for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("8fe6"),i("63b2");var o,s=i("f0c5"),d=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"12468dbe",null,!1,r["a"],o);e["default"]=d.exports},"8fe6":function(t,e,i){"use strict";var r=i("f7a7"),a=i.n(r);a.a},a852:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.order[data-v-4a13060c]{width:%?710?%;background-color:#fff;margin:%?20?% auto;border-radius:%?20?%;box-sizing:border-box;padding:%?20?%;font-size:%?28?%}.order .top[data-v-4a13060c]{display:flex;justify-content:space-between}.order .top .left[data-v-4a13060c]{display:flex;align-items:center}.order .top .left .store[data-v-4a13060c]{margin:0 %?10?%;font-size:%?32?%;font-weight:700}.order .top .right[data-v-4a13060c]{color:#f29100}.order .item[data-v-4a13060c]{display:flex;margin:%?20?% 0 0}.order .item .left[data-v-4a13060c]{margin-right:%?20?%}.order .item .left uni-image[data-v-4a13060c]{width:%?200?%;height:%?200?%;border-radius:%?10?%}.order .item .content[data-v-4a13060c]{width:50%}.order .item .content .title[data-v-4a13060c]{font-size:%?28?%;line-height:%?50?%}.order .item .content .type[data-v-4a13060c]{margin:%?10?% 0;font-size:%?24?%;color:#909399}.order .item .content .delivery-time[data-v-4a13060c]{color:#e5d001;font-size:%?24?%}.order .item .right[data-v-4a13060c]{margin-left:%?10?%;padding-top:%?20?%;text-align:right}.order .item .right .decimal[data-v-4a13060c]{font-size:%?24?%;margin-top:%?4?%}.order .item .right .number[data-v-4a13060c]{color:#909399;font-size:%?24?%}.order .total[data-v-4a13060c]{margin-top:%?20?%;text-align:right;font-size:%?24?%}.order .total .total-price[data-v-4a13060c]{font-size:%?32?%}.order .bottom[data-v-4a13060c]{display:flex;margin-top:%?40?%;padding:0 %?10?%;justify-content:space-between;align-items:center}.order .bottom .btn[data-v-4a13060c]{line-height:%?52?%;width:%?160?%;border-radius:%?26?%;border:%?2?% solid #e4e7ed;font-size:%?26?%;text-align:center;color:#82848a}.order .bottom .evaluate[data-v-4a13060c]{color:#f29100;border-color:#f29100}.order .bottom .pay[data-v-4a13060c]{background-color:#fa3534;color:#fff}',""]),t.exports=e},b5f2:function(t,e,i){var r=i("c459");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("4f06").default;a("228bfd4a",r,!0,{sourceMap:!1,shadowMode:!1})},c459:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.centre[data-v-7815d456]{text-align:center;margin:%?200?% auto;font-size:%?32?%}.centre uni-image[data-v-7815d456]{width:%?164?%;height:%?164?%;border-radius:50%;margin-bottom:%?20?%}.centre .tips[data-v-7815d456]{font-size:%?24?%;color:#999;margin-top:%?20?%}.centre .btn[data-v-7815d456]{margin:%?80?% auto;width:%?200?%;border-radius:%?32?%;line-height:%?64?%;color:#fff;font-size:%?26?%;background:linear-gradient(270deg,#f9745a,#ff9e01)}',""]),t.exports=e},dca9:function(t,e,i){var r=i("f312");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("4f06").default;a("4d14ee26",r,!0,{sourceMap:!1,shadowMode:!1})},f312:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.wrap[data-v-12468dbe]{display:flex;flex-direction:column;height:calc(100vh - var(--window-top));width:100%}.swiper-box[data-v-12468dbe]{flex:1}.swiper-item[data-v-12468dbe]{height:100%}',""]),t.exports=e},f51a:function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"centre"},[i("v-uni-image",{attrs:{src:"https://cdn.uviewui.com/uview/template/taobao-order.png",mode:""}}),i("v-uni-view",{staticClass:"explain"},[t._v("您还没有相关的订单"),i("v-uni-view",{staticClass:"tips"},[t._v("可以去看看有那些想买的")])],1),i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateTo("/pages/index/index")}}},[t._v("随便逛逛")])],1)},n=[]},f7a7:function(t,e,i){var r=i("401b");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("4f06").default;a("4a58b8a8",r,!0,{sourceMap:!1,shadowMode:!1})}}]);