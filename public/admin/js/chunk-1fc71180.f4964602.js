(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fc71180","chunk-1f7eb1e3"],{"5b67":function(e,t,i){},"7a11":function(e,t,i){"use strict";i("5b67")},a93e:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("div",{staticClass:"region"},[e._v(e._s(e.regionText))]),i("div",{staticClass:"choose"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.regionSelect=!0}}},[e._v("选择")])],1)]),i("el-dialog",{attrs:{title:"选择地区",visible:e.regionSelect,width:"200","append-to-body":""},on:{"update:visible":function(t){e.regionSelect=t}}},[i("el-tree",{ref:"tree",attrs:{props:e.regionList,load:e.loadNode,"node-key":"id",lazy:"","show-checkbox":"","check-strictly":""},on:{"check-change":e.handleNodeClick}}),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.regionSelect=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)],1)},o=[],r=(i("b0c0"),i("22ce")),s={data:function(){return{regionText:"",regionSelect:!1,regionSelectId:0,nodeId:0,regionList:{label:"name",children:"children",isLeaf:"leaf"}}},props:{value:{default:null},scope:{default:null},myProps:{default:null}},computed:{},mounted:function(){this.getParentRegionText()},methods:{confirm:function(){this.regionSelectId=this.$refs.tree.getCheckedKeys()[0]||0,this.regionText=this.$refs.tree.getCheckedNodes()[0]["name"]||"",this.scope.form.parent_id=this.regionSelectId,this.regionSelect=!1},getParentRegionText:function(){var e=this;0==this.scope.form.parent_id||void 0==this.scope.form.parent_id?this.regionText="根节点":Object(r["b"])({url:"/setting.region/getOne",method:"post",data:{id:this.scope.form.parent_id}}).then((function(t){e.regionText=t.data.name}))},loadNode:function(e,t){0===e.level&&Object(r["b"])({url:"/setting.region/list",method:"post",data:{parent_id:0}}).then((function(e){var i={id:0,name:"根节点",hasChildren:!1};e.data.records.unshift(i),t(e.data.records)})),e.level>0&&Object(r["b"])({url:"/setting.region/list",method:"post",data:{parent_id:e.data.id}}).then((function(e){t(e.data.records)}))},handleNodeClick:function(e,t,i){!0===t?(this.regionSelectId=e.id,this.$refs.tree.setCheckedKeys([e.id]),this.regionText=e.name):this.regionSelectId==e.id&&this.$refs.tree.setCheckedKeys([e.id])}}},a=s,d=(i("7a11"),i("2877")),l=Object(d["a"])(a,n,o,!1,null,null,null);t["default"]=l.exports},a96b:function(e,t,i){"use strict";i.r(t),i.d(t,"crudOptions",(function(){return r}));var n=i("22ce"),o=i("a93e"),r=function(e){return{rowHandle:{view:{thin:!1,text:"查看",disabled:function(){return!e.hasPermissions("setting.region:view")}},edit:{thin:!1,text:"编辑",disabled:function(){return!e.hasPermissions("setting.region:edit")}},remove:{thin:!1,text:"删除",disabled:function(){return!e.hasPermissions("setting.region:del")}},custom:[],width:300,fixed:"right"},pageOptions:{compact:!0},options:{events:{"expand-change":function(e,t){}},height:"100%",highlightCurrentRow:!0,rowKey:"id",lazy:!0,load:function(t,i,o){Object(n["b"])({url:"/setting.region/list",method:"post",data:{parent_id:t.id}}).then((function(t){e._doRowValueBuilder(t.data.records),o(t.data.records)}))}},components:{treeSelect:o["default"]},columns:[{title:"地区",key:"name",width:700,form:{disabled:!1,rules:[{required:!0,message:"请填写地区名称"}]}},{title:"上级地区",key:"parent_id",width:200,show:!1,form:{disabled:!1,component:{name:o["default"]}}},{title:"排序",key:"sort",width:300,sortable:!0,form:{disabled:!1,rules:[{type:"number",message:"排序必须为数字值"}],component:{value:0}}},{title:"是否启用",key:"is_enable",type:"select",width:300,search:{disabled:!0},dict:{data:[{value:!0,label:"是",color:"success"},{value:!1,label:"否",color:"danger"}]},sortable:!1,form:{disabled:!1,component:{value:!0}}}]}}}}]);