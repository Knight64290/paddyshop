(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65c6758e","chunk-65cc5184","chunk-2d237ac8","chunk-2cc7417d","chunk-2d0e2c67"],{"0e19":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));n("99af"),n("4160"),n("c975"),n("b64b"),n("d3b7"),n("159b");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var a=n("320c"),s=n.n(a),i=n("7fac"),u=n("fbb8"),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),Object(u["assertOptions"])(t),this.opts=s()({region:"oss-cn-hangzhou",internal:!1,cname:!1,secure:!1,timeout:6e4},t);var n=this.opts,c=n.bucket,o=n.region,a=n.endpoint,i=n.internal;if(this.host="",a)this.host=a;else{var f=c;i&&(f+="-internal"),f+=".".concat(o,".aliyuncs.com"),this.host=f}}return o(e,[{key:"put",value:function(e,t){var n=this;return new Promise((function(r,c){var o=n.opts,a=o.accessKeyId,s=o.accessKeySecret,f=o.stsToken,d=o.bucket,b="PUT",p=t.type,h={"Content-Type":p,"x-oss-date":(new Date).toGMTString()};f&&(h["x-oss-security-token"]=f);var l=Object(u["getSignature"])({verb:b,headers:h,bucket:d,objectName:e,accessKeyId:a,accessKeySecret:s});h.Authorization="OSS ".concat(a,":").concat(l);var v=n.opts.secure?"https":"http",y="".concat(v,"://").concat(n.host,"/").concat(e);return Object(i["default"])(y,{method:b,headers:h,data:t,timeout:n.opts.timeout}).then(r).catch(c)}))}},{key:"signatureUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.expires,r=void 0===n?1800:n,c=t.method,o=t.process,a=t.response,s=this.opts,i=s.accessKeyId,f=s.accessKeySecret,d=s.stsToken,b=s.bucket,p={},h={};if(o){var l="x-oss-process";h[l]=o}a&&Object.keys(a).forEach((function(e){var t="response-".concat(e.toLowerCase());h[t]=a[e]})),Object.keys(t).forEach((function(e){var n=e.toLowerCase(),r=t[e];0===n.indexOf("x-oss-")?p[n]=r:0===n.indexOf("content-type")?p[e]=r:"expires"!==n&&"response"!==n&&"process"!==n&&"method"!==n&&(h[n]=r)}));var v=t["security-token"]||d;v&&(h["security-token"]=v);var y=Object(u["unix"])()+r,g=Object(u["getSignature"])({type:"url",verb:c||"GET",accessKeyId:i,accessKeySecret:f,bucket:b,objectName:e,headers:p,subResource:h,expires:y}),w=this.opts.secure?"https":"http",m="".concat(w,"://").concat(this.host,"/").concat(e);return m+="?OSSAccessKeyId=".concat(i),m+="&Expires=".concat(y),m+="&Signature=".concat(encodeURIComponent(g)),Object.keys(h).forEach((function(e){m+="&".concat(e,"=").concat(encodeURIComponent(h[e]))})),m}}]),e}()},"320c":function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach((function(e){c[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},c)).join("")}catch(o){return!1}}e.exports=s()?Object.assign:function(e,t){for(var n,s,i=a(e),u=1;u<arguments.length;u++){for(var f in n=Object(arguments[u]),n)c.call(n,f)&&(i[f]=n[f]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(i[s[d]]=n[s[d]])}}return i}},5712:function(e,t,n){"use strict";n.r(t);n("d3b7"),n("96cf");var r=n("1da1"),c=n("5530"),o=n("b4c7"),a=n.n(o),s=n("2ef0"),i=n.n(s),u=n("1d2a");function f(e,t,n){var r=n.buildKey(t,Object(c["a"])({file:e},n.custom||{}));return"string"===typeof r?new Promise((function(e){e(r)})):r}t["default"]={sts:void 0,options:void 0,init:function(e){this.options=e},getSts:function(e,t){var n=this;return null==this.sts||this.sts.expiresTime<(new Date).getTime()?e.getAuthorization(t).then((function(e){var t=e;return t.expiresTime=(new Date).getTime()+parseInt(e.expiration),n.sts=t,t})):new Promise((function(e){e(n.sts)}))},upload:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var o,s,d,b,p,h,l,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.file,s=e.fileName,e.onProgress,d=e.onError,b=e.config,p=i.a.cloneDeep(t.options),i.a.merge(p,b),b=p,u["a"].debug("-----------开始上传----------",s,b),n.next=7,f(o,s,b);case 7:if(h=n.sent,l=null,null===t.options.getAuthorization){n.next=13;break}return n.next=12,t.getSts(t.options,Object(c["a"])({key:h,file:o},b.custom||{}));case 12:l=n.sent;case 13:return v=null,v=null!=l?new a.a(Object(c["a"])({region:b.region,accessKeyId:l.accessKeyId,accessKeySecret:l.accessKeySecret,stsToken:l.securityToken,bucket:b.bucket},b.sdkOpts)):new a.a(Object(c["a"])({region:b.region,accessKeyId:b.accessKeyId,accessKeySecret:b.accessKeySecret,bucket:b.bucket},b.sdkOpts)),n.abrupt("return",v.put(h,o).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={url:b.domain+"/"+h,key:h},u["a"].debug("alioss success",n),!b.successHandle){e.next=7;break}return e.next=5,b.successHandle(n);case 5:return n=e.sent,e.abrupt("return",n);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){d(e)})));case 16:case"end":return n.stop()}}),n)})))()}}},"7fac":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));n("4160"),n("b64b"),n("d3b7"),n("159b");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var c,o=t.async,a=void 0===o||o,s=t.data,i=void 0===s?null:s,u=t.headers,f=void 0===u?{}:u,d=t.method,b=void 0===d?"get":d,p=t.timeout,h=void 0===p?0:p,l=new XMLHttpRequest;l.open(b,e,a),h&&(c=setTimeout((function(){r(new Error("the request timeout ".concat(h,"ms")))}),h)),l.onerror=function(){r(new Error("unknown error"))},l.onreadystatechange=function(){if(4===l.readyState)if(h&&clearTimeout(c),l.status>=200&&l.status<300)n(l.response,l);else{var e=new Error("the request is error");r(e)}},Object.keys(f).forEach((function(e){l.setRequestHeader(e,f[e])}));try{l.send(i)}catch(v){r(v)}}))}},b4c7:function(e,t,n){e.exports=n("0e19").default},fbb8:function(e,t,n){"use strict";n.r(t),n.d(t,"unix",(function(){return i})),n.d(t,"blobToBuffer",(function(){return u})),n.d(t,"assertOptions",(function(){return f})),n.d(t,"getCanonicalizedOSSHeaders",(function(){return d})),n.d(t,"getCanonicalizedResource",(function(){return b})),n.d(t,"getSignature",(function(){return p}));n("99af"),n("4160"),n("c975"),n("a15b"),n("d81d"),n("ace4"),n("b64b"),n("d3b7"),n("25f0"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b");var r=n("1fb5"),c=n.n(r),o=n("bf73"),a=n("1d2a");function s(e){return e&&"[object Date]"===Object.prototype.toString.call(e)&&"Invalid Date"!==e.toString}function i(e){var t;return e&&(t=new Date(e)),s(t)||(t=new Date),Math.round(t.getTime()/1e3)}function u(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){var e=new Uint8Array(r.result);t(e)},r.onerror=function(){n(r.error)},r.readAsArrayBuffer(e)}))}function f(e){var t=e.accessKeyId,n=e.accessKeySecret,r=e.bucket,c=e.endpoint;if(!t)throw new Error("need accessKeyId");if(!n)throw new Error("need accessKeySecret");if(!r&&!c)throw new Error("need bucket or endpoint")}function d(e){var t="",n=Object.keys(e);return n=n.map((function(e){return e.toLowerCase()})),n.sort(),n.forEach((function(n){0===n.indexOf("x-oss-")&&(t+="".concat(n,":").concat(e[n],"\n"))})),t}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r="";e&&(r+="/".concat(e)),t&&("/"!==t.charAt(0)&&(r+="/"),r+=t);var c="".concat(r),o="?";if(n){var a=function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0},s=function(e){c+=o+e,n[e]&&(c+="=".concat(n[e])),o="&"};Object.keys(n).sort(a).forEach(s)}return c}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"header":t,r=e.verb,s=void 0===r?"":r,u=e.contentMd5,f=void 0===u?"":u,p=e.expires,h=void 0===p?i()+3600:p,l=e.bucket,v=e.objectName,y=e.accessKeySecret,g=e.headers,w=void 0===g?{}:g,m=e.subResource,k=w["x-oss-date"]||"",O=w["Content-Type"]||"",j=[s,f,O];"header"===n?j.push(k):j.push(h);var S=d(w),x=b(l,v,m);j.push("".concat(S).concat(x));var K=j.join("\n");a["a"].debug("text",K,y);var E=new o["default"].HMAC_SHA1;E.setKey(y),E.update(K);var T=new Uint8Array(E.finalize()),I=c.a.fromByteArray(T);return I}}}]);