(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f460e6a","chunk-2d0e5dd1"],{"5ff2":function(e,t,n){"use strict";n.r(t);n("d3b7");var r=n("53ca"),a=n("5530"),o=(n("96cf"),n("1da1")),s=n("95fe"),u=n("2ef0"),c=n.n(u),i=n("1d2a");t["default"]={options:void 0,init:function(e){this.options=e},upload:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var u,f,p,d,l,b,w,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=e.file,f=e.fileName,p=e.onProgress,d=e.onError,l=e.config,b=c.a.cloneDeep(t.options),c.a.merge(b,l),l=b,w=Object(a["a"])({file:u,onProgress:p,onError:d},l),h=l.buildKey(f,Object(a["a"])({file:u},l.custom||{})),!(h instanceof Promise)){n.next=10;break}return n.next=9,h;case 9:h=n.sent;case 10:return null==b.data&&(b.data={}),b.data.key=h,i["a"].debug("upload option ",b),n.abrupt("return",new Promise((function(e,t){Object(s["default"])(w,function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(a){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.successHandle(a,w);case 3:o=n.sent,o&&"object"===Object(r["a"])(o)&&null==o.key&&(o.key=h),e(o),n.next=12;break;case 8:n.prev=8,n.t0=n["catch"](0),d(n.t0),t(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}(),(function(e){d(e),t(e)}))})));case 14:case"end":return n.stop()}}),n)})))()}}},"95fe":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));n("99af"),n("4160"),n("b0c0"),n("b64b"),n("159b");function r(e,t,n){var r;r=n.response?"".concat(n.response.error||n.response):n.responseText?"".concat(n.responseText):"fail to post ".concat(e," ").concat(n.status);var a=new Error(r);return a.status=n.status,a.method="post",a.url=e,a}function a(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}function o(e,t,n){if("undefined"!==typeof XMLHttpRequest){var o=new XMLHttpRequest,s=e.action;o.upload&&(o.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var u=new FormData;e.data&&Object.keys(e.data).forEach((function(t){u.append(t,e.data[t])})),u.append(e.name,e.file,e.file.name),o.onerror=function(e){n(e)},o.onload=function(){if(o.status<200||o.status>=300)return e.onError(r(s,e,o));t(a(o))},o.open("post",s,!0),e.withCredentials&&"withCredentials"in o&&(o.withCredentials=!0);var c=e.headers||{};for(var i in c)c.hasOwnProperty(i)&&null!==c[i]&&o.setRequestHeader(i,c[i]);return o.send(u),o}}}}]);